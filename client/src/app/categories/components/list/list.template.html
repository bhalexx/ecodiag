<p>Cet outil de diagnostic se base sur la version 2024 du R√©f√©rentiel g√©n√©ral d'√©coconception de services num√©riques (RGESN) et en reprend donc les m√™mes cat√©gories.</p>

@if (100 === globalProgression) {
    <article>
        <p>
            <strong>üéâ F√©licitations !</strong><br/>
            Vous avez compl√©t√© l'ensemble des cat√©gories, et votre score s'√©l√®ve √† : <mark>{{ globalScore|number:'1.0-0' }} %</mark>.<br/>
            Si vous le souhaitez, vous pouvez t√©l√©charger votre rapport.
        </p>
        <button (click)="export()">T√©l√©charger mon rapport</button>
    </article>
} @else {
    <article>
        <p>
            @if (globalProgression) {
                <strong>Compl√©tion</strong> :<br/>
                <progress [value]="globalProgression" max="100"></progress>
            }
            Il vous reste des cat√©gories et crit√®res √† compl√©ter, pour le moment votre score de conformit√© s'√©l√®ve √† : <mark>{{ globalScore|number:'1.0-0' }} %</mark>.
        </p>
    </article>
}

<div class="grid grid-2">
    @for (category of categories$|async; track category.id) {
        <article>
            <header>
                <div class="grid grid-2">
                    <span>{{ category.icon }} {{ category.name }}</span>
                    @if (0 < category.progression) {
                        <span>Conformit√© : <mark>{{ category.score|number: '1.0-0' }} %</mark></span>
                    }
                </div>
            </header>
            @if (0 < category.progression) {
                <small>Compl√©tion :</small>
                <progress [value]="category.progression" max="100"></progress>
            }
            <p>{{ category.description }}</p>
            <footer>
                <a routerLink="/categorie/{{ category.id }}" role="button">Compl√©ter</a>
            </footer>
        </article>
    }
</div>
